<link rel="import" href="../polymer/polymer.html">
<!--
  `<q-card></q-card>` d
  @demo demo.html
-->
<script>
  Polymer({
    is: "q-card",
    properties:{
      chips:{
        notify:true,
        type:Array,
      },
      prompt:{
        type:String,
        notify:true,
      },
      _setPrompt: {
        computed:"setPrompt(line, card)",
      },
      _fireChips: {
        computed:"__fireChips(line, chips)",
      },
    },
    __fireChips: function(line,chips){
      chips.forEach(function(chip) {
        if (chip.toLowerCase().trim() == line.toLowerCase().trim()) (
          this.fire("chip", {
            prompt: this.prompt,
            chip: chip,
          })
        )
      })
    },
    setPrompt: function(line, card) {
      this.debounce("update", this.getPrompt,2000)
    },
    getPrompt: function(){
      var line = this.line
      var card = this.card
      if (!card.name) {
        this.chips = []
        this.prompt = "Name it"
      } else if(!card.image) {
        this.chips = ["Yes","No"]
        this.prompt =  "Change Image?"
      } else if(!line) {
        this.chips = ["Heading","List","Image"]
        this.prompt =  "Add some text"
      } else {
        this.chips = ["Heading","List","Image"]
        this.prompt =  ""
      }
      // test for tricks
      
    },
  })
</script>
